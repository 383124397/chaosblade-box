(self.webpackChunk=self.webpackChunk||[]).push([[237],{95270:(F,r,e)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e(30156);r.default=s.Badge},16664:function(F,r,e){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(o){for(var C,f=1,a=arguments.length;f<a;f++){C=arguments[f];for(var g in C)Object.prototype.hasOwnProperty.call(C,g)&&(o[g]=C[g])}return o},s.apply(this,arguments)},A=this&&this.__rest||function(o,C){var f={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&C.indexOf(a)<0&&(f[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,a=Object.getOwnPropertySymbols(o);g<a.length;g++)C.indexOf(a[g])<0&&Object.prototype.propertyIsEnumerable.call(o,a[g])&&(f[a[g]]=o[a[g]]);return f},c=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(r,"__esModule",{value:!0});var h=c(e(27378)),_=c(e(23615)),E=c(e(60042)),$=e(30156),M=e(66693),v=function(o){var C=o.type,f=o.className,a=A(o,["type","className"]);return h.default.createElement($.Tag,s({},a,{className:E.default(M.COLORED_CLASS_NAME,M.COLORED_CLASS_NAME+"-"+C,f)}))};v.propTypes=s(s({},$.Tag.propTypes),{type:_.default.oneOf(Object.values(M.Color)),className:_.default.string}),v.defaultProps={type:M.Color.LIGHT_STEEL_BLUE},v[M.PROTECTED_TYPE]="Tag",r.default=v},79148:function(F,r,e){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(l){for(var t,P=1,y=arguments.length;P<y;P++){t=arguments[P];for(var j in t)Object.prototype.hasOwnProperty.call(t,j)&&(l[j]=t[j])}return l},s.apply(this,arguments)},A=this&&this.__createBinding||(Object.create?function(l,t,P,y){y===void 0&&(y=P),Object.defineProperty(l,y,{enumerable:!0,get:function(){return t[P]}})}:function(l,t,P,y){y===void 0&&(y=P),l[y]=t[P]}),c=this&&this.__setModuleDefault||(Object.create?function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}:function(l,t){l.default=t}),h=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var t={};if(l!=null)for(var P in l)P!=="default"&&Object.hasOwnProperty.call(l,P)&&A(t,l,P);return c(t,l),t},_=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(r,"__esModule",{value:!0});var E=h(e(27378)),$=_(e(23615)),M=_(e(60042)),v=e(30156),o=_(e(16664)),C=e(66693),f=v.Tag.Group,a=[C.Color.LIGHT_STEEL_BLUE,C.Color.PLUM,C.Color.MISTY_ROSE,C.Color.LIGHT_GOLDENROD_YELLOW,C.Color.PALE_GREEN],g=function(l){var t=l.className,P=l.style,y=l.avaliableColors,j=y===void 0?a:y,n=l.children;return E.default.createElement(f,{className:M.default(C.COLORED_GROUP_CLASS_NAME,t),style:P},E.Children.map(n,function(T,le){var p=T;try{var k=T.type[C.PROTECTED_TYPE];k==="Tag"&&(p=E.default.createElement(o.default,s({},T.props,{type:j[le%5]})))}catch(i){}return p}))};g.propTypes={className:$.default.string,style:$.default.objectOf($.default.any),avaliableColors:$.default.arrayOf($.default.string),children:$.default.node},r.default=g},66693:(F,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PROTECTED_TYPE=r.COLORED_GROUP_CLASS_NAME=r.COLORED_CLASS_NAME=r.Color=void 0,r.Color={LIGHT_STEEL_BLUE:"light-steel-blue",PLUM:"plum",MISTY_ROSE:"misty-rose",LIGHT_GOLDENROD_YELLOW:"light-goldenrod-yellow",PALE_GREEN:"pale-green",SILVER:"silver",GRAY:"gray"},r.COLORED_CLASS_NAME="wind-tag-colored",r.COLORED_GROUP_CLASS_NAME=r.COLORED_CLASS_NAME+"-group",r.PROTECTED_TYPE="__WIND_TAG_"},51834:function(F,r,e){"use strict";var s=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(r,"__esModule",{value:!0}),r.wrap=void 0;var A=e(66693),c=s(e(16664)),h=s(e(79148));function _(E){return E.Colored=c.default,E.ColoredGroup=h.default,E[A.PROTECTED_TYPE]="Tag",E}r.wrap=_},36939:function(F,r,e){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(f){for(var a,g=1,l=arguments.length;g<l;g++){a=arguments[g];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(f[t]=a[t])}return f},s.apply(this,arguments)},A=this&&this.__rest||function(f,a){var g={};for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&a.indexOf(l)<0&&(g[l]=f[l]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,l=Object.getOwnPropertySymbols(f);t<l.length;t++)a.indexOf(l[t])<0&&Object.prototype.propertyIsEnumerable.call(f,l[t])&&(g[l[t]]=f[l[t]]);return g},c=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(r,"__esModule",{value:!0});var h=e(30156),_=c(e(27378)),E=e(46949),$=c(e(55839)),M=e(51834),v=e(67056),o=c(e(60042)),C=M.wrap(E.withThemeClass(_.default.forwardRef(function(f,a){var g,l=f.children,t=f.color,P=f.prefix,y=P===void 0?"next-":P,j=f.className,n=A(f,["className"]),T=v.useCssVar("--alicloudfe-components-theme").trim();return T==="hybridcloud"||T==="hybridcloud-dark"||T==="yunxiao"||T==="yunxiao-dark"?_.default.createElement(h.Tag,s({ref:a,className:o.default((g={},g[y+"tag-custom-"+t]=!0,g),j)},n),l):_.default.createElement(h.Tag,s({},f,{ref:a}),l)})));$.default(C,h.Tag),C.displayName=h.Tag.displayName,r.default=C},82594:function(F,r,e){var s,A,c,h=e(24596),_=e(67394),E=e(93168),$=e(23587);(function(M,v){if(!0)!(A=[r,e(42499),e(36939),e(92243),e(17225),e(81853),e(61253),e(9644),e(27378),e(61320),e(61091),e(99328),e(42058)],s=v,c=typeof s=="function"?s.apply(r,A):s,c!==void 0&&(F.exports=c));else var o})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:this,function(M,v,o,C,f,a,g,l,t,P,y,j,n){"use strict";var T=e(67971);_(M,"__esModule",{value:!0}),M.default=void 0,v=T(v),o=T(o),C=T(C),f=T(f),a=T(a),g=p(g),l=T(l),t=p(t),P=T(P),y=T(y);function le(R){if(typeof E!="function")return null;var N=new E,d=new E;return(le=function(B){return B?d:N})(R)}function p(R,N){if(!N&&R&&R.__esModule)return R;if(R===null||h(R)!=="object"&&typeof R!="function")return{default:R};var d=le(N);if(d&&d.has(R))return d.get(R);var D={},B=_&&$;for(var S in R)if(S!=="default"&&Object.prototype.hasOwnProperty.call(R,S)){var Y=B?$(R,S):null;Y&&(Y.get||Y.set)?_(D,S,Y):D[S]=R[S]}return D.default=R,d&&d.set(R,D),D}var k=function(N){var d=N.dataSource,D=N.isLoading,B=N.agentType,S=(0,n.useHistory)(),Y=(0,t.useState)(!1),ie=(0,a.default)(Y,2),ce=ie[0],ge=ie[1],de=(0,t.useState)(""),Ae=(0,a.default)(de,2),H=Ae[0],b=Ae[1],w=function(V){(0,j.pushUrl)(S,"/manage/setting/k8sHost",{clusterId:V})},m=function(V){ge(!ce),b(V)},G=function(V,Ue,fe){return t.default.createElement(t.default.Fragment,null,t.default.createElement("a",{className:"action",onClick:function(){w(fe.ClusterId)}},V),t.default.createElement("br",null),t.default.createElement("span",{className:"text-muted"},fe.ClusterId))},I=function(V,Ue,fe){return fe.Upgrade&&(B===1||B===3)?t.default.createElement(C.default,{trigger:t.default.createElement("span",null,t.default.createElement(f.default,{type:"star-circle1",size:"xs",className:"text-warning",style:{marginRight:"4px"}}),t.default.createElement("span",{className:"text-primary vertical-align-middle cursor-default"},fe.Version)),triggerType:"hover"},t.default.createElement("span",{style:{color:"black"}},"\u53EF\u5347\u7EA7\u5230\u7248\u672C ",fe.UpgradeVersion)):t.default.createElement("span",null,fe.Version)},x=function(V){return t.default.createElement("span",null,V?(0,P.default)(V).format("YYYY-MM-DD HH:mm:ss"):"")},oe=function(V){return V&&V.length?V.map(function(Ue){return t.default.createElement(o.default,{key:Ue,style:{marginRight:"4px"}},Ue)}):""},ue=function(V,Ue,fe){return t.default.createElement(g.default,null,fe.OnlineCount&&fe.OnlineCount>0?t.default.createElement(g.LinkButton,{text:!0,type:"primary",onClick:function(){return m(fe.PluginType)},style:{cursor:"pointer"}},"\u624B\u52A8\u5378\u8F7D"):"",t.default.createElement(g.LinkButton,{text:!0,type:"primary",onClick:function(){(0,j.pushUrl)(S,"setting/tools",{id:fe.ClusterId,mode:"k8s"})},style:{marginLeft:8}},"\u5B89\u88C5\u6F14\u7EC3\u5DE5\u5177"))};return t.default.createElement(t.default.Fragment,null,t.default.createElement(v.default,{style:N.style?N.style:{padding:"8px"},dataSource:d,loading:D,className:y.default.content,hasBorder:!1},t.default.createElement(v.default.Column,{title:"\u96C6\u7FA4\u540D\u79F0/ID",dataIndex:"ClusterName",align:"center",lock:!0,cell:G}),t.default.createElement(v.default.Column,{title:"\u63D2\u4EF6\u7C7B\u578B",width:140,dataIndex:"PluginType",align:"center"}),t.default.createElement(v.default.Column,{title:"\u8282\u70B9\u6570",width:100,dataIndex:"OnlineCount",align:"center"}),t.default.createElement(v.default.Column,{title:"\u63A2\u9488\u7248\u672C",width:100,cell:I,align:"center"}),t.default.createElement(v.default.Column,{title:"\u5DF2\u5B89\u88C5\u5DE5\u5177",dataIndex:"chaosTools",cell:oe,align:"center"}),t.default.createElement(v.default.Column,{title:"\u542F\u52A8\u65F6\u95F4",dataIndex:"ConnectTime",cell:x,align:"center"}),t.default.createElement(v.default.Column,{title:"\u64CD\u4F5C",width:200,lock:"right",cell:ue,align:"center"})),ce&&t.default.createElement(l.default,{pluginType:H,isUninstall:!0,isClusterUninstall:!0,onClose:function(){return ge(!1)}}))},i=(0,t.memo)(k);M.default=i})},4617:function(F,r,e){var s,A,c,h=e(24596),_=e(67394),E=e(93168),$=e(23587);(function(M,v){if(!0)!(A=[r,e(12955),e(93080),e(72153),e(17534),e(77809),e(81853),e(27378),e(36012),e(14870)],s=v,c=typeof s=="function"?s.apply(r,A):s,c!==void 0&&(F.exports=c));else var o})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:this,function(M,v,o,C,f,a,g,l,t,P){"use strict";var y=e(67971);_(M,"__esModule",{value:!0}),M.default=void 0,v=y(v),o=y(o),C=y(C),f=y(f),a=y(a),g=y(g),l=n(l),t=y(t);function j(p){if(typeof E!="function")return null;var k=new E,i=new E;return(j=function(N){return N?i:k})(p)}function n(p,k){if(!k&&p&&p.__esModule)return p;if(p===null||h(p)!=="object"&&typeof p!="function")return{default:p};var i=j(k);if(i&&i.has(p))return i.get(p);var R={},N=_&&$;for(var d in p)if(d!=="default"&&Object.prototype.hasOwnProperty.call(p,d)){var D=N?$(p,d):null;D&&(D.get||D.set)?_(R,d,D):R[d]=p[d]}return R.default=p,i&&i.set(p,R),R}var T=function(k){var i=(0,P.useDispatch)(),R=k.onClose,N=(0,l.useState)(""),d=(0,g.default)(N,2),D=d[0],B=d[1];(0,l.useEffect)(function(){S()},[]);function S(){return Y.apply(this,arguments)}function Y(){return Y=(0,a.default)(regeneratorRuntime.mark(function ge(){var de,Ae,H;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,i.agentSetting.getQueryLicenseKey({params:{},region:"public"});case 2:de=w.sent,Ae=de.Data,H=Ae===void 0?"":Ae,B(H);case 6:case"end":return w.stop()}},ge)})),Y.apply(this,arguments)}function ie(){(0,t.default)(D),R(),f.default.success("\u590D\u5236\u6210\u529F")}var ce=l.default.createElement(C.default,{type:"primary",onClick:ie,disabled:!D},"\u590D\u5236 Licenses");return l.default.createElement(v.default,(0,o.default)({},k,{title:"\u6E29\u99A8\u63D0\u793A",style:{width:"600px"},footer:ce}),l.default.createElement("div",null,"\u5F53\u524D\u73AF\u5883 License\xA0:\xA0",l.default.createElement("span",{id:"licenseVal",style:{color:"#0070CC"}},D)))},le=T;M.default=le})},30930:function(F,r,e){var s,A,c,h=e(24596),_=e(67394),E=e(93168),$=e(23587);(function(M,v){if(!0)!(A=[r,e(72153),e(94188),e(28757),e(81853),e(27378),e(4617),e(58913),e(5282),e(99328),e(42058),e(39620)],s=v,c=typeof s=="function"?s.apply(r,A):s,c!==void 0&&(F.exports=c));else var o})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:this,function(M,v,o,C,f,a,g,l,t,P,y,j){"use strict";var n=e(67971);_(M,"__esModule",{value:!0}),M.default=void 0,v=n(v),o=n(o),C=n(C),f=n(f),a=le(a),g=n(g),l=n(l),j=n(j);function T(i){if(typeof E!="function")return null;var R=new E,N=new E;return(T=function(D){return D?N:R})(i)}function le(i,R){if(!R&&i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var N=T(R);if(N&&N.has(i))return N.get(i);var d={},D=_&&$;for(var B in i)if(B!=="default"&&Object.prototype.hasOwnProperty.call(i,B)){var S=D?$(i,B):null;S&&(S.get||S.set)?_(d,B,S):d[B]=i[B]}return d.default=i,N&&N.set(i,d),d}var p=function(R){var N=R.ecsNumber,d=R.onLinePluginNumber,D=R.agentType,B=R.searchKeyword,S=R.tab,Y=R.K8SHost,ie=R.handleAgentType,ce=R.handleSearchKeyword,ge=(0,P.getParams)("region")==="public",de=(0,y.useHistory)(),Ae=(0,a.useState)(!1),H=(0,f.default)(Ae,2),b=H[0],w=H[1],m=(0,a.useState)(!1),G=(0,f.default)(m,2),I=G[0],x=G[1],oe=function(){w(!b)};return a.default.createElement("div",{className:l.default.content},a.default.createElement("div",{className:l.default.left},!Y&&a.default.createElement(C.default,{placeholder:"\u9ED8\u8BA4",style:{width:"160px"},dataSource:t.AGENT_OPTIONS,value:D,filter:function(te,V){return V.visible},onChange:ie}),a.default.createElement(o.default,{value:B,style:{minWidth:"300px"},placeholder:S===t.AGENT_SCOPE_TYPE.K8S&&!Y?"\u652F\u6301\u96C6\u7FA4ID\u3001\u96C6\u7FA4\u540D\u79F0\u6A21\u7CCA\u5339\u914D":"\u652F\u6301IP\u3001\u5B9E\u4F8B\u540D\u79F0\u3001\u5B9E\u4F8BID\u6A21\u7CCA\u5339\u914D",onChange:ce,hasClear:!0}),!Y&&a.default.createElement("span",{className:l.default.licenseTipsBtn,onClick:oe}," \u67E5\u770B License ")),a.default.createElement("div",{className:l.default.right},D===1&&!ge&&a.default.createElement("div",{className:l.default.info},a.default.createElement("span",null,"\u5728\u7EBF\u63A2\u9488\u6570/\u603BECS\u6570\uFF1A"),a.default.createElement("span",{style:{color:"#028f3f"}}," ",d," "),a.default.createElement("span",null," / "),a.default.createElement("span",{style:{color:"#2077b4"}}," ",N," ")),a.default.createElement(v.default,{style:{display:"none"},type:"primary",onClick:function(){return(0,P.pushUrl)(de,"/manage/setting/step",{iis:"1"})}},"\u5B89\u88C5\u67B6\u6784\u611F\u77E5\u63A2\u9488"),a.default.createElement(v.default,{style:{display:"none"},type:"primary",className:l.default.btn,onClick:function(){return(0,P.pushUrl)(de,"/manage/setting/step")}},"\u6DFB\u52A0\u6D41\u91CF\u9632\u62A4"),!Y&&a.default.createElement(v.default,{type:"primary",onClick:function(){return x(!0)}},"\u81EA\u52A8\u5B89\u88C5\u63A2\u9488"),"\xA0\xA0",!Y&&a.default.createElement(v.default,{type:"primary",onClick:function(){return(0,P.pushUrl)(de,"/manage/setting/step",{iis:"1"})}},"\u624B\u52A8\u5B89\u88C5\u63A2\u9488")),b&&a.default.createElement(g.default,{visible:b,onClose:oe}),I&&a.default.createElement(j.default,{onClose:function(){return x(!1)}}))},k=(0,a.memo)(p);M.default=k})},21510:function(F,r,e){var s,A,c,h=e(24596),_=e(67394),E=e(93168),$=e(23587);(function(M,v){if(!0)!(A=[r,e(83452),e(42499),e(36939),e(92243),e(17225),e(17534),e(77809),e(81853),e(57379),e(61253),e(9644),e(27378),e(98784),e(60042),e(4711),e(73262),e(99328),e(14870),e(42058)],s=v,c=typeof s=="function"?s.apply(r,A):s,c!==void 0&&(F.exports=c));else var o})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:this,function(M,v,o,C,f,a,g,l,t,P,y,j,n,T,le,p,k,i,R,N){"use strict";var d=e(67971);_(M,"__esModule",{value:!0}),M.default=void 0,v=d(v),o=d(o),C=d(C),f=d(f),a=d(a),g=d(g),l=d(l),t=d(t),P=d(P),y=Y(y),j=d(j),n=Y(n),T=d(T),le=d(le),p=d(p);var D,B;function S(H){if(typeof E!="function")return null;var b=new E,w=new E;return(S=function(G){return G?w:b})(H)}function Y(H,b){if(!b&&H&&H.__esModule)return H;if(H===null||h(H)!=="object"&&typeof H!="function")return{default:H};var w=S(b);if(w&&w.has(H))return w.get(H);var m={},G=_&&$;for(var I in H)if(I!=="default"&&Object.prototype.hasOwnProperty.call(H,I)){var x=G?$(H,I):null;x&&(x.get||x.set)?_(m,I,x):m[I]=H[I]}return m.default=H,w&&w.set(H,m),m}var ie=[{label:"\u5728\u7EBF",value:2},{label:"\u79BB\u7EBF",value:3}],ce=(0,le.default)((D={},(0,P.default)(D,p.default.v_a_b,!0),(0,P.default)(D,p.default.mr10,!0),D)),ge=(0,le.default)((B={},(0,P.default)(B,p.default.v_a_b,!0),(0,P.default)(B,p.default.mr10,!0),(0,P.default)(B,p.default.red,!0),B)),de=function(b){var w=(0,N.useHistory)(),m=b.dataSource,G=b.agentType,I=b.isLoading,x=b.statusType,oe=b.handleDataSource,ue=b.handleSetStatusType,te=(0,R.useDispatch)(),V=(0,n.useState)(!1),Ue=(0,t.default)(V,2),fe=Ue[0],Me=Ue[1],Ge=(0,n.useState)(""),Fe=(0,t.default)(Ge,2),Ve=Fe[0],Ke=Fe[1],K=(0,n.useState)(!1),$e=(0,t.default)(K,2),Je=$e[0],je=$e[1],_e=(0,n.useState)(""),Ze=(0,t.default)(_e,2),Qe=Ze[0],Ne=Ze[1],he=(0,n.useState)(NaN),ne=(0,t.default)(he,2),q=ne[0],Z=ne[1],re=(0,n.useRef)({}),ye=(0,n.useRef)({});(0,n.useEffect)(function(){return function(){(0,v.default)(ye).forEach(function(ae){clearInterval(ye.current[ae])}),(0,v.default)(re).forEach(function(ae){clearInterval(re.current[ae])})}},[]);var xe=function(W,U,u){return u.link?n.default.createElement("a",{href:u.link,target:"_blank"},W):W},Te=(0,n.useCallback)(function(){var ae=(0,l.default)(regeneratorRuntime.mark(function W(U,u){var J,z,L,ee,Pe,Re,Se;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return J=U.enable?"StopPlugin":"StartPlugin",z=U.enable?"\u505C\u6B62\u6210\u529F":"\u5F00\u542F\u6210\u529F",L=U.enable?"\u505C\u6B62\u5931\u8D25":"\u5F00\u542F\u5931\u8D25",Q.next=5,te.agentSetting.getStopAndStartPlugin(J,{PluginType:U.pluginType,ConfigurationId:U.configurationId});case 5:ee=Q.sent,Pe=ee.Data,Re=Pe===void 0?!1:Pe,Re===!0?(g.default.success(z),U.enable=!U.enable,Se=T.default.cloneDeep(m),Se[u]=U,oe(Se)):g.default.error(L);case 9:case"end":return Q.stop()}},W)}));return function(W,U){return ae.apply(this,arguments)}}(),[m]),Ce=(0,n.useCallback)(function(){var ae=(0,l.default)(regeneratorRuntime.mark(function W(U){var u,J,z,L,ee,Pe,Re;return regeneratorRuntime.wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.next=2,te.agentSetting.getInstallPlugin({InstanceId:U});case 2:u=Ie.sent,J=u.Data,z=J===void 0?!1:J,L=u.Code,ee=L===void 0?"":L,z?(Pe=T.default.cloneDeep(m),Pe.forEach(function(Q){Q.instanceId===U&&(Q.pluginStatus=1)}),oe(Pe),ye.current[U]=setInterval(function(){ze(m,U)},2e3)):(Re="\u64CD\u4F5C\u5931\u8D25",ee==="plugin.instance.not.exist"&&(Re="\u5F53\u524D\u7684\u5B9E\u4F8B\u4E0D\u5B58\u5728\uFF0C\u8BF7\u9009\u62E9\u53EF\u7528\u7684\u5B9E\u4F8B"),g.default.error(Re));case 8:case"end":return Ie.stop()}},W)}));return function(W){return ae.apply(this,arguments)}}(),[m]),Oe=(0,n.useCallback)(function(){var ae=(0,l.default)(regeneratorRuntime.mark(function W(U,u){var J,z,L,ee;return regeneratorRuntime.wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.next=2,te.agentSetting.getUninstallPlugin({ConfigurationId:U});case 2:J=Re.sent,z=J.Data,L=z===void 0?!1:z,L?(ee=T.default.cloneDeep(m),ee.forEach(function(Se){Se.instanceId===u&&(Se.pluginStatus=4)}),oe(ee),re.current[u]=setInterval(function(){ze(m,u)},2e3),setTimeout(function(){ve(m,u)},61e3)):Ye(m,u);case 6:case"end":return Re.stop()}},W)}));return function(W,U){return ae.apply(this,arguments)}}(),[m]),ze=function(){var ae=(0,l.default)(regeneratorRuntime.mark(function W(U,u){var J,z,L,ee,Pe;return regeneratorRuntime.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,te.agentSetting.getQueryPluginStatus({Loop:!0,InstanceId:u});case 2:J=Se.sent,z=J.Data,L=z===void 0?{}:z,T.default.isEmpty(L)||(ee=L,Pe=T.default.cloneDeep(U),Pe.forEach(function(Ie){Ie.instanceId===ee.instanceId&&(Ie.pluginStatus=ee.pluginStatus)}),ee.pluginStatus===0&&(clearInterval(re.current[u]),re.current[u]=null),(ee.pluginStatus===2||ee.pluginStatus===-1)&&(clearInterval(ye.current[u]),ye.current[u]=null),oe(Pe));case 6:case"end":return Se.stop()}},W)}));return function(U,u){return ae.apply(this,arguments)}}(),ve=function(W,U){if(!re.current[U])return;Ye(W,U,999),clearInterval(re.current[U]),clearInterval(ye.current[U])},Ye=function(W,U,u){var J=T.default.cloneDeep(W),z=u||-1;J.forEach(function(L){L.instanceId===U&&(L.pluginStatus=z)}),oe(J)},We=function(W,U,u,J){Me(!fe),Ke(W),je(U),Ne(u),Z(J)},qe=function(W,U,u){var J=T.default.get(u,"osType",NaN),z;if(J===k.OS_TYPE.WINDOWS){if(u&&u.pluginStatus===0)return"\u5378\u8F7D\u6210\u529F";if(u&&u.pluginStatus===2||u&&u.pluginStatus===3||u&&u.pluginStatus===5)return n.default.createElement(y.LinkButton,{onClick:function(){return We(u.pluginType,!0,u.configurationId,J)}},"\u624B\u52A8\u5378\u8F7D")}switch(u.pluginStatus){case 0:z=n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,n.default.createElement("span",{className:ce},"\u5378\u8F7D\u6210\u529F"),n.default.createElement(a.default,{type:"success",size:"small"})));break;case 2:z=n.default.createElement(n.default.Fragment,null,u.pluginType.toUpperCase()==="CHAOS_AGENT"&&n.default.createElement(y.LinkButton,{onClick:function(){return Te(u,U)}},u.enable?"\u505C\u6B62":"\u5F00\u542F"),u.canAutoInstall?n.default.createElement(y.LinkButton,{onClick:function(){return Oe(u.configurationId,u.instanceId)}},"\u5378\u8F7D"):n.default.createElement(y.LinkButton,{onClick:function(){return We(u.pluginType,!0,u.configurationId)}},"\u624B\u52A8\u5378\u8F7D"));break;case 3:z=n.default.createElement(n.default.Fragment,null,n.default.createElement("span",{className:p.default.red},u.canAutoInstall?n.default.createElement("a",{className:p.default.ml10,onClick:function(){return Ce(u.instanceId)},"data-spm-click":"gostr=/aliyun;locaid=d_SettingInstalled_plugin_install",style:{cursor:"pointer"}},"\u5355\u51FB\u5B89\u88C5"):n.default.createElement("a",{className:p.default.ml10,onClick:function(){return We(u.pluginType,!1,u.configurationId,u.osType)},style:{cursor:"pointer"}},"\u624B\u52A8\u5B89\u88C5")));break;case 4:z=n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,n.default.createElement("span",{className:ce},"\u5378\u8F7D\u4E2D"),n.default.createElement(a.default,{type:"loading",size:"small"})));break;case 5:z=n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,n.default.createElement("span",{className:ge},"\u5378\u8F7D\u5931\u8D25"),n.default.createElement(a.default,{type:"error",size:"small"})),n.default.createElement(y.LinkButton,{onClick:function(){return Oe(u.configurationId,u.instanceId)}},"\u91CD\u8BD5"),n.default.createElement(y.LinkButton,{onClick:function(){return We(u.pluginType,!0,u.configurationId)}},"\u624B\u52A8\u5378\u8F7D"));break;case 999:z=n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,n.default.createElement("span",{className:ge},"\u5378\u8F7D\u8D85\u65F6"),n.default.createElement(a.default,{type:"error",size:"small"})),n.default.createElement(y.LinkButton,{onClick:function(){return Oe(u.configurationId,u.instanceId)}},"\u91CD\u8BD5"),n.default.createElement(y.LinkButton,{onClick:function(){return We(u.pluginType,!0,u.configurationId)}},"\u624B\u52A8\u5378\u8F7D"));break;case-1:z=n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,n.default.createElement("span",{className:ge},"\u5B89\u88C5\u5931\u8D25"),n.default.createElement(a.default,{type:"error",size:"small"})),n.default.createElement(y.LinkButton,{onClick:function(){return Ce(u.instanceId)}},"\u91CD\u8BD5"),n.default.createElement(y.LinkButton,{onClick:function(){return We(u.pluginType,!1,u.configurationId)}},"\u624B\u52A8\u5B89\u88C5"));break;case 1:z=n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,n.default.createElement("span",{className:p.default.mr10},"\u5B89\u88C5\u4E2D"),n.default.createElement(a.default,{type:"loading",size:"small"})));break;default:break}return n.default.createElement(y.default,{style:{justifyContent:"center"}},z,n.default.createElement(y.LinkButton,{onClick:function(){(0,i.pushUrl)(w,location.pathname==="/manage/setting"?"setting/tools":"tools",{id:u.configurationId,mode:u.installMode})}},"\u5B89\u88C5\u6F14\u7EC3\u5DE5\u5177"))},be=function(W,U,u){return u.upgrade&&(G===1||G===3)?n.default.createElement(f.default,{trigger:n.default.createElement("span",null,n.default.createElement(a.default,{type:"star-circle1",size:"xs",className:"text-warning",style:{marginRight:"4px"}}),n.default.createElement("span",{className:"text-primary vertical-align-middle cursor-default"},u.version)),triggerType:"hover"},n.default.createElement("span",{style:{color:"black"}},"\u53EF\u5347\u7EA7\u5230\u7248\u672C ",u.upgradeVersion)):n.default.createElement("span",null,u.version)},He=function(W){return W===0?"linux":W===1?"windows":void 0},ke=function(W){return n.default.createElement("div",null,(W==null?void 0:W.length)>0&&W.map(function(U){return n.default.createElement(C.default,{key:U,style:{marginRight:"2px",marginTop:"2px"}},U)}))},Xe=function(W){var U=W.pluginStatusShow,u=U===void 0?{}:U,J=u.selectedKeys,z=J===void 0?{}:J,L=(0,t.default)(z,1),ee=L[0],Pe=ee===void 0?"":ee;ue(Pe)};return n.default.createElement("div",{style:b.style?b.style:{padding:"8px"}},n.default.createElement(o.default,{dataSource:m,primaryKey:"instanceId",loading:I,onFilter:Xe,filterParams:{pluginStatusShow:{selectedKeys:[x]}},className:p.default.content,hasBorder:!1},n.default.createElement(o.default.Column,{title:G===1?"\u5E94\u7528\u540D\u79F0":"\u4E3B\u673A\u540D",dataIndex:"instanceName",align:"center",lock:!0,cell:xe,width:280}),n.default.createElement(o.default.Column,{title:"\u63D2\u4EF6\u7C7B\u578B",width:140,dataIndex:"pluginType",align:"center"}),n.default.createElement(o.default.Column,{title:"IP",dataIndex:"ip",width:160,align:"center"}),n.default.createElement(o.default.Column,{title:"\u63A2\u9488\u7248\u672C",cell:be,align:"center",width:100}),G!==2&&[n.default.createElement(o.default.Column,{title:"\u5B89\u88C5\u73AF\u5883",width:100,key:"installMode",dataIndex:"installMode",align:"center"}),n.default.createElement(o.default.Column,{title:"\u64CD\u4F5C\u7CFB\u7EDF",width:100,key:"osType",dataIndex:"osType",align:"center",cell:He}),n.default.createElement(o.default.Column,{title:"\u5DF2\u5B89\u88C5\u5DE5\u5177",width:200,key:"chaosTools",dataIndex:"chaosTools",align:"center",cell:ke})],n.default.createElement(o.default.Column,{title:"\u542F\u52A8\u65F6\u95F4",width:160,dataIndex:"connectTime",align:"center"}),n.default.createElement(o.default.Column,{title:"\u63D2\u4EF6\u72B6\u6001",dataIndex:"pluginStatusShow",align:"center",width:120,filters:ie,filterMode:"single"}),n.default.createElement(o.default.Column,{title:"\u64CD\u4F5C",cell:qe,width:200,lock:"right",align:"center"})),fe&&n.default.createElement(j.default,{pluginType:Ve,isUninstall:Je,configurationId:Qe,onClose:function(){return Me(!1)},ostype:q}))},Ae=(0,n.memo)(de);M.default=Ae})},49237:function(F,r,e){var s,A,c,h=e(24596),_=e(67394),E=e(93168),$=e(23587);(function(M,v){if(!0)!(A=[r,e(93484),e(47701),e(95270),e(77809),e(81853),e(82594),e(30930),e(27378),e(21510),e(61320),e(15658),e(5282),e(99328),e(14870)],s=v,c=typeof s=="function"?s.apply(r,A):s,c!==void 0&&(F.exports=c));else var o})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:this,function(M,v,o,C,f,a,g,l,t,P,y,j,n,T,le){"use strict";var p=e(67971);_(M,"__esModule",{value:!0}),M.default=void 0,v=p(v),o=p(o),C=p(C),f=p(f),a=p(a),g=p(g),l=p(l),t=i(t),P=p(P),y=p(y),j=p(j);function k(d){if(typeof E!="function")return null;var D=new E,B=new E;return(k=function(Y){return Y?B:D})(d)}function i(d,D){if(!D&&d&&d.__esModule)return d;if(d===null||h(d)!=="object"&&typeof d!="function")return{default:d};var B=k(D);if(B&&B.has(d))return B.get(d);var S={},Y=_&&$;for(var ie in d)if(ie!=="default"&&Object.prototype.hasOwnProperty.call(d,ie)){var ce=Y?$(d,ie):null;ce&&(ce.get||ce.set)?_(S,ie,ce):S[ie]=d[ie]}return S.default=d,B&&B.set(d,S),S}var R=function(){var D=(0,le.useDispatch)(),B=(0,t.useState)([]),S=(0,a.default)(B,2),Y=S[0],ie=S[1],ce=(0,t.useState)([]),ge=(0,a.default)(ce,2),de=ge[0],Ae=ge[1],H=(0,t.useState)(!1),b=(0,a.default)(H,2),w=b[0],m=b[1],G=(0,t.useState)(1),I=(0,a.default)(G,2),x=I[0],oe=I[1],ue=(0,t.useState)(""),te=(0,a.default)(ue,2),V=te[0],Ue=te[1],fe=(0,t.useState)(0),Me=(0,a.default)(fe,2),Ge=Me[0],Fe=Me[1],Ve=(0,t.useState)(3),Ke=(0,a.default)(Ve,2),K=Ke[0],$e=Ke[1],Je=(0,t.useState)("2"),je=(0,a.default)(Je,2),_e=je[0],Ze=je[1],Qe=(0,t.useState)(""),Ne=(0,a.default)(Qe,2),he=Ne[0],ne=Ne[1],q=(0,t.useState)(""),Z=(0,a.default)(q,2),re=Z[0],ye=Z[1],xe=(0,t.useState)(10),Te=(0,a.default)(xe,2),Ce=Te[0],Oe=Te[1],ze=(0,t.useState)(n.AGENT_SCOPE_TYPE.HOST),ve=(0,a.default)(ze,2),Ye=ve[0],We=ve[1],qe=(0,t.useState)(!1),be=(0,a.default)(qe,2),He=be[0],ke=be[1],Xe=(0,t.useRef)();(0,t.useEffect)(function(){location.pathname&&location.pathname==="/manage/setting"?((0,T.removeParams)("clusterId"),ke(!1),D.pageHeader.setTitle("\u63A2\u9488\u7BA1\u7406"),D.pageHeader.setBreadCrumbItems([n.DEFAULT_BREADCRUMB_ITEM].concat({key:"setting",value:"\u63A2\u9488\u7BA1\u7406",path:location.pathname}))):(ke(!0),We(n.AGENT_SCOPE_TYPE.K8S),D.pageHeader.setTitle("\u96C6\u7FA4\u63A2\u9488"),D.pageHeader.setBreadCrumbItems([n.DEFAULT_BREADCRUMB_ITEM].concat({key:"setting",value:"\u63A2\u9488\u7BA1\u7406",path:"/manage/setting"},{key:"setting/k8sHost",value:"\u96C6\u7FA4\u63A2\u9488",path:location.pathname})))},[location.pathname]);var ae=function(){var Q=(0,f.default)(regeneratorRuntime.mark(function X(me){var O,pe,Ee,De,Le,we,Be;return regeneratorRuntime.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.prev=0,m(!0),O={PageIndex:me!=null?me:x,PageSize:Ce,InstanceName:V,PluginType:K,PluginStatus:_e},He&&(O.ClusterId=(0,T.getParams)("clusterId")),se.next=6,D.agentSetting.getQueryPlugins(O);case 6:pe=se.sent,Ee=pe.Data,De=Ee===void 0?{}:Ee,Le=De,we=Le.totalItem,Be=Le.result,u(Be),Fe(we),m(!1),se.next=18;break;case 15:se.prev=15,se.t0=se.catch(0),m(!1);case 18:case"end":return se.stop()}},X,null,[[0,15]])}));return function(me){return Q.apply(this,arguments)}}(),W=function(){var Q=(0,f.default)(regeneratorRuntime.mark(function X(me){var O,pe,Ee,De,Le,we,Be;return regeneratorRuntime.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.prev=0,m(!0),O={PageIndex:me!=null?me:x,PageSize:Ce,ClusterName:V},se.next=5,D.agentSetting.getListKubernetesCluster(O);case 5:pe=se.sent,Ee=pe.Data,De=Ee===void 0?{}:Ee,Le=De,we=Le.TotalItem,Be=Le.Result,Ae(Be),Fe(we),m(!1),se.next=17;break;case 14:se.prev=14,se.t0=se.catch(0),m(!1);case 17:case"end":return se.stop()}},X,null,[[0,14]])}));return function(me){return Q.apply(this,arguments)}}(),U=(0,t.useCallback)(function(){var Q=(0,f.default)(regeneratorRuntime.mark(function X(me){return regeneratorRuntime.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:try{Ye===n.AGENT_SCOPE_TYPE.K8S&&!He?W(me):ae(me)}catch(Ee){m(!1)}case 1:case"end":return pe.stop()}},X)}));return function(X){return Q.apply(this,arguments)}}(),[x,V,K,_e,Ce,Ye,He]),u=function(X){var me=[];X.forEach(function(O){var pe,Ee="",De;O.pluginType==="CHAOS_AGENT"?De="\uFF08\u516C\uFF09":De="\uFF08\u4E3B\u673A\uFF09",O.publicIp&&O.privateIp?pe=t.default.createElement("span",null,O.publicIp+De,t.default.createElement("br",null),O.privateIp+"\uFF08\u79C1\uFF09"):!O.publicIp&&O.privateIp?pe=t.default.createElement("span",null,O.privateIp+"\uFF08\u79C1\uFF09"):O.publicIp&&!O.privateIp&&(pe=t.default.createElement("span",null," ",O.publicIp+De));switch(O.pluginStatus){case 0:Ee="\u5F85\u5B89\u88C5";break;case 1:Ee="\u5B89\u88C5\u4E2D";break;case-1:Ee="\u5B89\u88C5\u5931\u8D25";break;case 2:Ee=t.default.createElement("span",null,t.default.createElement(C.default,{dot:!0,style:{margin:"-2px 3px 0 0",background:"green",zIndex:1}}),"\u5728\u7EBF");break;case 3:Ee=t.default.createElement("span",null,t.default.createElement(C.default,{dot:!0,style:{margin:"-2px 3px 0 0",background:"red",zIndex:1}}),"\u79BB\u7EBF");break;case 4:Ee="\u5378\u8F7D\u4E2D";break;case 5:Ee="\u5378\u8F7D\u5931\u8D25";break;default:break}me.push({instanceId:O.instanceId,instanceName:O.instanceName,pluginStatus:O.pluginStatus,pluginStatusShow:Ee,ip:pe,version:O.version,pluginType:O.pluginType,configurationId:O.configurationId,canAutoInstall:O.canAutoInstall,chaosTools:O.chaosTools,enable:O.enable,connectTime:O.connectTime?(0,y.default)(O.connectTime).format("YYYY-MM-DD HH:mm:ss"):"",installMode:O.installMode||"",link:O.link,upgrade:O.upgrade,upgradeVersion:O.upgradeVersion,osType:O.osType})}),ie(me)};(0,t.useEffect)(function(){return U(),function(){return clearTimeout(Xe.current)}},[U]);var J=(0,t.useCallback)((0,f.default)(regeneratorRuntime.mark(function Q(){var X,me,O,pe,Ee,De,Le;return regeneratorRuntime.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.next=2,D.agentSetting.getDescribePluginRate({PluginType:K});case 2:X=Be.sent,me=X.Data,O=me===void 0?{}:me,pe=O.ecsNumber,Ee=pe===void 0?0:pe,De=O.onLinePluginNumber,Le=De===void 0?0:De,ne(Ee),ye(Le);case 8:case"end":return Be.stop()}},Q)})),[K]);(0,t.useEffect)(function(){J()},[J]);var z=function(X){oe(X)},L=function(X){ie(X)},ee=function(X){Ze(X)},Pe=function(X){$e(X)},Re=function(X){Xe.current&&clearTimeout(Xe.current),Xe.current=setTimeout(function(){Ue(X)},100)},Se=function(X){Oe(X)};function Ie(Q){We(Number(Q))}return t.default.createElement("div",{className:j.default.content},t.default.createElement(l.default,{ecsNumber:he,onLinePluginNumber:re,agentType:K,searchKeyword:V,K8SHost:He,tab:Ye,handleAgentType:Pe,handleSearchKeyword:Re}),(K===1||K===3)&&(He?t.default.createElement(P.default,{style:{padding:"0"},dataSource:Y,agentType:K,isLoading:w,statusType:_e,handleDataSource:L,handleSetStatusType:ee}):t.default.createElement(o.default,{shape:"wrapped",activeKey:Ye,onChange:Ie},t.default.createElement(o.default.Item,{title:"\u4E3B\u673A",key:n.AGENT_SCOPE_TYPE.HOST},t.default.createElement(P.default,{dataSource:Y,agentType:K,isLoading:w,statusType:_e,handleDataSource:L,handleSetStatusType:ee})),t.default.createElement(o.default.Item,{title:"Kubernetes",key:n.AGENT_SCOPE_TYPE.K8S},t.default.createElement(g.default,{dataSource:de,agentType:K,isLoading:w,statusType:_e,handleDataSource:function(X){console.log(X)},handleSetStatusType:ee})))),K===2&&t.default.createElement(P.default,{style:{padding:"0"},dataSource:Y,agentType:K,isLoading:w,statusType:_e,handleDataSource:L,handleSetStatusType:ee}),t.default.createElement(v.default,{total:Ge,pageSize:Ce,defaultCurrent:1,onChange:z,onPageSizeChange:Se,pageSizeSelector:"dropdown",pageSizeList:[10,20,50,100],className:j.default.pagination}))},N=(0,t.memo)(R);M.default=N})},39620:function(F,r,e){var s,A,c,h=e(24596),_=e(67394),E=e(93168),$=e(23587),M=e(83452),v=e(95315),o=e(63774),C=e(92937);(function(f,a){if(!0)!(A=[r,e(12955),e(93080),e(72153),e(28757),e(15286),e(17534),e(77809),e(57379),e(88162),e(81853),e(30553),e(8583),e(27378),e(98784),e(13988),e(99328),e(14870),e(19e3)],s=a,c=typeof s=="function"?s.apply(r,A):s,c!==void 0&&(F.exports=c));else var g})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:this,function(f,a,g,l,t,P,y,j,n,T,le,p,k,i,R,N,d,D,B){"use strict";var S=e(67971);_(f,"__esModule",{value:!0}),f.default=void 0,a=S(a),g=S(g),l=S(l),t=S(t),P=S(P),y=S(y),j=S(j),n=S(n),T=S(T),le=S(le),p=S(p),k=S(k),i=ie(i),R=S(R),N=S(N),B=S(B);function Y(m){if(typeof E!="function")return null;var G=new E,I=new E;return(Y=function(oe){return oe?I:G})(m)}function ie(m,G){if(!G&&m&&m.__esModule)return m;if(m===null||h(m)!=="object"&&typeof m!="function")return{default:m};var I=Y(G);if(I&&I.has(m))return I.get(m);var x={},oe=_&&$;for(var ue in m)if(ue!=="default"&&Object.prototype.hasOwnProperty.call(m,ue)){var te=oe?$(m,ue):null;te&&(te.get||te.set)?_(x,ue,te):x[ue]=m[ue]}return x.default=m,I&&I.set(m,x),x}function ce(m,G){var I=M(m);if(v){var x=v(m);G&&(x=x.filter(function(oe){return $(m,oe).enumerable})),I.push.apply(I,x)}return I}function ge(m){for(var G=1;G<arguments.length;G++){var I=arguments[G]!=null?arguments[G]:{};G%2?ce(Object(I),!0).forEach(function(x){(0,n.default)(m,x,I[x])}):o?C(m,o(I)):ce(Object(I)).forEach(function(x){_(m,x,$(I,x))})}return m}var de=k.default.Item,Ae={labelCol:{fixedSpan:6},wrapperCol:{span:18}},H=p.default.Group,b=function(G){var I=G.onClose,x=(0,D.useDispatch)(),oe=(0,i.useState)([]),ue=(0,le.default)(oe,2),te=ue[0],V=ue[1],Ue=(0,i.useState)(!1),fe=(0,le.default)(Ue,2),Me=fe[0],Ge=fe[1],Fe=T.default.useField(),Ve=(0,i.useState)({appType:1}),Ke=(0,le.default)(Ve,2),K=Ke[0],$e=Ke[1],Je=(0,i.useState)(null),je=(0,le.default)(Je,2),_e=je[0],Ze=je[1];(0,i.useEffect)(function(){$e(ge(ge({},K),{},{AppName:void 0,AppGroupName:void 0}))},[K==null?void 0:K.appType]),(0,i.useEffect)(function(){var he=function(){var ne=(0,j.default)(regeneratorRuntime.mark(function q(){var Z,re,ye,xe,Te,Ce,Oe;return regeneratorRuntime.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ye=(Z=(re=(0,d.getParams)("ns"))!==null&&re!==void 0?re:window.curNamespace)!==null&&Z!==void 0?Z:"default",xe={namespace:ye,region:(0,d.getActiveRegion)(),appType:"0"},_e&&(xe.app_id=_e.app_id),ve.next=5,x.agentSetting.getGetUserApplicationGroups(xe);case 5:Te=ve.sent,Ce=Te.Data,Oe=Ce===void 0?[]:Ce,V(Oe);case 9:case"end":return ve.stop()}},q)}));return function(){return ne.apply(this,arguments)}}();K!=null&&K.AppName&&(K==null?void 0:K.appType)===1&&(V([]),he())},[_e==null?void 0:_e.app_id]);var Qe=function(){var he=(0,j.default)(regeneratorRuntime.mark(function ne(q){var Z,re,ye,xe,Te,Ce,Oe;return regeneratorRuntime.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return Ge(!0),Z=R.default.cloneDeep(q),Z.appType===1&&(Z.AppName=_e==null?void 0:_e.app_name,Z.AppId=_e==null?void 0:_e.app_id),delete Z.appType,ve.next=6,x.agentSetting.getInstallPlugin(Z);case 6:re=ve.sent,ye=re.Data,xe=ye===void 0?!1:ye,Te=re.Code,Ce=Te===void 0?"":Te,Ge(!1),xe?(y.default.success("\u63A2\u9488\u5B89\u88C5\u4E2D\uFF0C\u8FD9\u53EF\u80FD\u9700\u8981\u51E0\u5206\u949F\uFF0C\u8BF7\u7A0D\u7B49\u67E5\u770B..."),I()):(Oe="\u63A2\u9488\u81EA\u52A8\u5B89\u88C5\u5931\u8D25\uFF0C\u8BF7\u5C1D\u8BD5\u624B\u52A8\u5B89\u88C5\u3002",Ce==="plugin.instance.not.exist"&&(Oe="\u5F53\u524D\u7684\u5B9E\u4F8B\u4E0D\u5B58\u5728\uFF0C\u8BF7\u9009\u62E9\u53EF\u7528\u7684\u5B9E\u4F8B"),y.default.error(Oe));case 13:case"end":return ve.stop()}},ne)}));return function(q){return he.apply(this,arguments)}}(),Ne=function(ne,q,Z,re){re==="InstanceId"&&/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/.test(q)===!1?Z("\u8BF7\u586B\u5199\u5408\u6CD5\u7684\b\u673A\u5668IP\u5730\u5740"):re==="SshPort"&&!(/^[1-9]\d*$/.test(q)&&Number(q)>=1&&Number(q)<=65535)?Z("\u8BF7\u586B\u5199\u5408\u6CD5\u7684\b\u7AEF\u53E3"):["AppName","AppGroupName"].includes(re)&&/^[\w|\||-]*$/g.test(q)===!1?Z("\u8BF7\u586B\u5199\u5408\u6CD5\u7684\b".concat(re==="AppName"?"\u5E94\u7528":"\u5206\u7EC4","\u540D\u79F0")):Z()};return i.default.createElement(a.default,{visible:!0,title:"\u5B89\u88C5\u63A2\u9488",style:{width:"680px"},okProps:{children:"\u5B89\u88C5"},footer:!1,onCancel:I,onClose:I},i.default.createElement("div",{className:N.default.installDialog},i.default.createElement(k.default,(0,g.default)({},Ae,{field:Fe,onChange:function(ne){$e(ne)}}),i.default.createElement(de,{required:!0,label:"\u5E94\u7528"},i.default.createElement(H,{name:"appType",defaultValue:K.appType},i.default.createElement(p.default,{value:1},"\u5DF2\u6709\u5E94\u7528"),i.default.createElement(p.default,{value:2},"\u65B0\u589E\u5E94\u7528"))),i.default.createElement(de,{label:"\u9009\u62E9\u5E94\u7528",required:!0},K.appType===1&&i.default.createElement(B.default,{params:{filterDisabled:!0,appType:0},placeholder:"\u8BF7\u9009\u62E9\u5E94\u7528\u540D\u79F0",name:"AppName",value:K.AppName,onChange:function(ne,q,Z){Ze(Z)}})||i.default.createElement(P.default,{value:K.AppName,placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0",name:"AppName"})),i.default.createElement(de,{label:"\u5E94\u7528\u5206\u7EC4",validator:function(ne,q,Z){return Ne(ne,q,Z,"AppGroupName")}},K.appType===1&&i.default.createElement(t.default,{showSearch:!0,value:K.AppGroupName,style:{width:"100%"},dataSource:te,placeholder:"\u8BF7\u9009\u62E9\u5E94\u7528\u5206\u7EC4",name:"AppGroupName"})||i.default.createElement(P.default,{value:K.AppGroupName,placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u5206\u7EC4",name:"AppGroupName"})),i.default.createElement(de,{label:"IP",required:!0,validator:function(ne,q,Z){return Ne(ne,q,Z,"InstanceId")}},i.default.createElement(P.default,{placeholder:"\u8BF7\u8F93\u5165\u673A\u5668IP",name:"InstanceId"})),i.default.createElement(de,{label:"\u7AEF\u53E3",validator:function(ne,q,Z){return Ne(ne,q,Z,"SshPort")}},i.default.createElement(P.default,{placeholder:"\u8BF7\u8F93\u5165\u7AEF\u53E3",name:"SshPort",defaultValue:22})),i.default.createElement(de,{label:"SSH \u7528\u6237",required:!0,validator:function(ne,q,Z){return Ne(ne,q,Z,"SshUser")}},i.default.createElement(P.default,{placeholder:"\u8BF7\u8F93\u5165SSH \u7528\u6237",name:"SshUser"})),i.default.createElement(de,{label:"SSH \u5BC6\u7801"},i.default.createElement(P.default,{htmlType:"password",placeholder:"\u8BF7\u8F93\u5165SSH \u5BC6\u7801",name:"SshPassword"})),i.default.createElement("div",{style:{textAlign:"right"}},i.default.createElement(k.default.Submit,{validate:!0,type:"primary",loading:Me,onClick:function(ne){return Qe(ne)},style:{marginRight:10}},"\u5B89\u88C5"),i.default.createElement(l.default,{onClick:function(){return I()}},"\u53D6\u6D88")))))},w=(0,i.memo)(b);f.default=w})},83490:(F,r,e)=>{"use strict";e.d(r,{Z:()=>E});var s=e(60994),A=e.n(s),c=e(93476),h=e.n(c),_=h()(A());_.push([F.id,`.index__content__R0Suz .index__ml10__XAgFs {
    margin-left: 10px;
  }
  
  .index__content__R0Suz .index__mr10__evlx4 {
    margin-right: 10px;
  }
  
  .index__content__R0Suz .index__red__T4hnZ {
    color: red;
  }
  
  .index__content__R0Suz .index__v_a_b__dK9qj {
    vertical-align: bottom;
  }
`,"",{version:3,sources:["webpack://./pages/Manage/AgentSetting/List/ClusterTableList/index.css"],names:[],mappings:"AAEE;IACE,iBAAiB;EACnB;;EAEA;IACE,kBAAkB;EACpB;;EAEA;IACE,UAAU;EACZ;;EAEA;IACE,sBAAsB;EACxB",sourcesContent:[`.content {
  
  .ml10 {
    margin-left: 10px;
  }

  .mr10 {
    margin-right: 10px;
  }

  .red {
    color: red;
  }

  .v_a_b {
    vertical-align: bottom;
  }

}
`],sourceRoot:""}]),_.locals={content:"index__content__R0Suz",ml10:"index__ml10__XAgFs",mr10:"index__mr10__evlx4",red:"index__red__T4hnZ",v_a_b:"index__v_a_b__dK9qj"};const E=_},87220:(F,r,e)=>{"use strict";e.d(r,{Z:()=>E});var s=e(60994),A=e.n(s),c=e(93476),h=e.n(c),_=h()(A());_.push([F.id,`.index__content__3uxaw {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}
  .index__content__3uxaw .index__left__-EZdD {
    display: flex;
    align-items: center;
  }
  .index__content__3uxaw .index__left__-EZdD .next-select {
      flex: 30%;
      margin-right: 12px;
    }
  .index__content__3uxaw .index__left__-EZdD .next-search {
      width: auto;
      margin-right: 12px;
    }
  .index__content__3uxaw .index__left__-EZdD .index__licenseTipsBtn__Xde9G {
      flex: 20%;
      cursor: pointer;
      color: #0070cc;
    }
  .index__content__3uxaw .index__right__wfrYD {
    display: flex;
    align-items: center;
  }
  .index__content__3uxaw .index__right__wfrYD .index__info__k2SJM {
      margin-right: 12px; 
    }
  .index__content__3uxaw .index__right__wfrYD .index__btn__3rB1t {
      margin: 0 12px;
    }

.index__selector__JtMEK {
  min-width: 130px;
}

.index__selector__JtMEK .next-input {
    background: #0070cc;
    color: #fff;
    font-weight: 500;
  }

.index__selector__JtMEK .next-input .next-input-control .next-icon {
      color: #fff;
      font-weight: 500;
    }`,"",{version:3,sources:["webpack://./pages/Manage/AgentSetting/List/HeadHandler/index.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,8BAA8B;EAC9B,kBAAkB;AA4BpB;EA3BE;IACE,aAAa;IACb,mBAAmB;EAcrB;EAbE;MACE,SAAS;MACT,kBAAkB;IACpB;EACA;MACE,WAAW;MACX,kBAAkB;IACpB;EACA;MACE,SAAS;MACT,eAAe;MACf,cAAc;IAChB;EAEF;IACE,aAAa;IACb,mBAAmB;EAOrB;EANE;MACE,kBAAkB;IACpB;EACA;MACE,cAAc;IAChB;;AAIJ;EACE,gBAAgB;AAUlB;;AATE;IACE,mBAAmB;IACnB,WAAW;IACX,gBAAgB;EAKlB;;AAJE;MACE,WAAW;MACX,gBAAgB;IAClB",sourcesContent:[`.content {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
  .left {
    display: flex;
    align-items: center;
    :global(.next-select) {
      flex: 30%;
      margin-right: 12px;
    }
    :global(.next-search) {
      width: auto;
      margin-right: 12px;
    }
    .licenseTipsBtn {
      flex: 20%;
      cursor: pointer;
      color: #0070cc;
    }
  }
  .right {
    display: flex;
    align-items: center;
    .info {
      margin-right: 12px; 
    }
    .btn {
      margin: 0 12px;
    }
  }
}

.selector {
  min-width: 130px;
  :global(.next-input) {
    background: #0070cc;
    color: #fff;
    font-weight: 500;
    :global(.next-input-control .next-icon) {
      color: #fff;
      font-weight: 500;
    }
  }
}`],sourceRoot:""}]),_.locals={content:"index__content__3uxaw",left:"index__left__-EZdD",licenseTipsBtn:"index__licenseTipsBtn__Xde9G",right:"index__right__wfrYD",info:"index__info__k2SJM",btn:"index__btn__3rB1t",selector:"index__selector__JtMEK"};const E=_},90164:(F,r,e)=>{"use strict";e.d(r,{Z:()=>E});var s=e(60994),A=e.n(s),c=e(93476),h=e.n(c),_=h()(A());_.push([F.id,`.index__content__iSbWA .index__ml10__qkMaQ {
    margin-left: 10px;
  }

  .index__content__iSbWA .index__mr10__SYv\\+T {
    margin-right: 10px;
  }

  .index__content__iSbWA .index__red__KWhCS {
    color: red;
  }

  .index__content__iSbWA .index__v_a_b__-LUs4 {
    vertical-align: bottom;
  }
`,"",{version:3,sources:["webpack://./pages/Manage/AgentSetting/List/TableList/index.css"],names:[],mappings:"AAEE;IACE,iBAAiB;EACnB;;EAEA;IACE,kBAAkB;EACpB;;EAEA;IACE,UAAU;EACZ;;EAEA;IACE,sBAAsB;EACxB",sourcesContent:[`.content {

  .ml10 {
    margin-left: 10px;
  }

  .mr10 {
    margin-right: 10px;
  }

  .red {
    color: red;
  }

  .v_a_b {
    vertical-align: bottom;
  }

}
`],sourceRoot:""}]),_.locals={content:"index__content__iSbWA",ml10:"index__ml10__qkMaQ",mr10:"index__mr10__SYv+T",red:"index__red__KWhCS",v_a_b:"index__v_a_b__-LUs4"};const E=_},2445:(F,r,e)=>{"use strict";e.d(r,{Z:()=>E});var s=e(60994),A=e.n(s),c=e(93476),h=e.n(c),_=h()(A());_.push([F.id,`.index__content__xuxAm .index__pagination__Wa\\+yj {
    display: flex;
    justify-content: flex-end;
  }
    .index__content__xuxAm .index__pagination__Wa\\+yj .next-pagination-pages {
      margin-left: 8px;
    }`,"",{version:3,sources:["webpack://./pages/Manage/AgentSetting/List/index.css"],names:[],mappings:"AACE;IACE,aAAa;IACb,yBAAyB;EAI3B;IAHE;MACE,gBAAgB;IAClB",sourcesContent:[`.content {
  .pagination {
    display: flex;
    justify-content: flex-end;
    :global(.next-pagination-pages) {
      margin-left: 8px;
    }
  }
}`],sourceRoot:""}]),_.locals={content:"index__content__xuxAm",pagination:"index__pagination__Wa+yj"};const E=_},86901:(F,r,e)=>{"use strict";e.d(r,{Z:()=>E});var s=e(60994),A=e.n(s),c=e(93476),h=e.n(c),_=h()(A());_.push([F.id,`.index__installDialog__bDteq label:before {
    margin-right: 4px;
    content: " ";
    display: inline-block;
    width: 6px;
  }`,"",{version:3,sources:["webpack://./pages/Manage/AutoInstall/index.css"],names:[],mappings:"AACE;IACE,iBAAiB;IACjB,YAAY;IACZ,qBAAqB;IACrB,UAAU;EACZ",sourcesContent:[`.installDialog {
  label:before {
    margin-right: 4px;
    content: " ";
    display: inline-block;
    width: 6px;
  } 
}`],sourceRoot:""}]),_.locals={installDialog:"index__installDialog__bDteq"};const E=_},61091:(F,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>E});var s=e(1892),A=e.n(s),c=e(83490),h={};h.insert="head",h.singleton=!1;var _=A()(c.Z,h);const E=c.Z.locals||{}},58913:(F,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>E});var s=e(1892),A=e.n(s),c=e(87220),h={};h.insert="head",h.singleton=!1;var _=A()(c.Z,h);const E=c.Z.locals||{}},4711:(F,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>E});var s=e(1892),A=e.n(s),c=e(90164),h={};h.insert="head",h.singleton=!1;var _=A()(c.Z,h);const E=c.Z.locals||{}},15658:(F,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>E});var s=e(1892),A=e.n(s),c=e(2445),h={};h.insert="head",h.singleton=!1;var _=A()(c.Z,h);const E=c.Z.locals||{}},13988:(F,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>E});var s=e(1892),A=e.n(s),c=e(86901),h={};h.insert="head",h.singleton=!1;var _=A()(c.Z,h);const E=c.Z.locals||{}}}]);

//# sourceMappingURL=237.bundle.js.map