(self.webpackChunk=self.webpackChunk||[]).push([[726],{42499:function(j,I,t){"use strict";var h=this&&this.__assign||function(){return h=Object.assign||function(a){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},h.apply(this,arguments)},A=this&&this.__rest||function(a,i){var r={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.indexOf(n)<0&&(r[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)i.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(r[n[o]]=a[n[o]]);return r},v=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(I,"__esModule",{value:!0});var $=v(t(27378)),E=t(30156),B=v(t(60042)),P=v(t(55839)),T=t(67056),M=function(a){var i,r=a.hasBorder,n=a.rowSelection,o=a.className,S=A(a,["hasBorder","rowSelection","className"]),g=T.useCssVar("--alicloudfe-components-theme"),y=g.trim()==="wind";return r===void 0&&(r=y),$.default.createElement(E.Table,h({hasBorder:r,rowSelection:n,className:B.default(o,(i={},i["with-row-select"]=!!n,i["is-wind"]=y,i))},S))};P.default(M,E.Table);var N=M;I.default=N},77726:function(j,I,t){var h,A,v,$=t(24596),E=t(67394),B=t(93168),P=t(23587),T=t(83452),M=t(95315),N=t(63774),a=t(92937);(function(i,r){if(!0)!(A=[I,t(17534),t(42499),t(17225),t(72153),t(77809),t(57379),t(81853),t(27378),t(5282),t(99328),t(14870),t(73358)],h=r,v=typeof h=="function"?h.apply(I,A):h,v!==void 0&&(j.exports=v));else var n})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:this,function(i,r,n,o,S,g,y,D,s,G,b,k,q){"use strict";var C=t(67971);E(i,"__esModule",{value:!0}),i.default=te,r=C(r),n=C(n),o=C(o),S=C(S),g=C(g),y=C(y),D=C(D),s=_(s);function H(e){if(typeof B!="function")return null;var d=new B,l=new B;return(H=function(R){return R?l:d})(e)}function _(e,d){if(!d&&e&&e.__esModule)return e;if(e===null||$(e)!=="object"&&typeof e!="function")return{default:e};var l=H(d);if(l&&l.has(e))return l.get(e);var u={},R=E&&P;for(var m in e)if(m!=="default"&&Object.prototype.hasOwnProperty.call(e,m)){var U=R?P(e,m):null;U&&(U.get||U.set)?E(u,m,U):u[m]=e[m]}return u.default=e,l&&l.set(e,u),u}function V(e,d){var l=T(e);if(M){var u=M(e);d&&(u=u.filter(function(R){return P(e,R).enumerable})),l.push.apply(l,u)}return l}function ee(e){for(var d=1;d<arguments.length;d++){var l=arguments[d]!=null?arguments[d]:{};d%2?V(Object(l),!0).forEach(function(u){(0,y.default)(e,u,l[u])}):N?a(e,N(l)):V(Object(l)).forEach(function(u){E(e,u,P(l,u))})}return e}function te(){var e=(0,k.useDispatch)(),d=(0,b.parseQuery)(),l=(0,s.useState)([]),u=(0,D.default)(l,2),R=u[0],m=u[1],U=(0,s.useState)(null),Y=(0,D.default)(U,2),w=Y[0],ne=Y[1],ae=(0,s.useState)(!1),z=(0,D.default)(ae,2),W=z[0],Q=z[1],le=(0,s.useState)(!1),J=(0,D.default)(le,2),ue=J[0],X=J[1],Z=d.id,x=d.mode;(0,s.useEffect)(function(){e.pageHeader.setTitle("\u5DE5\u5177\u7BA1\u7406"),e.pageHeader.showBackArrow(!0),e.pageHeader.setBreadCrumbItems([G.DEFAULT_BREADCRUMB_ITEM].concat([ee({},q.breadCrumbConf[/\agentmanage\//.test(location.pathname)?"ahaos":"manage"]),{key:"setting/tools",value:"\u5DE5\u5177\u7BA1\u7406",path:location.pathname}]))},[]),(0,s.useEffect)(function(){(0,g.default)(regeneratorRuntime.mark(function O(){return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.agentTools.getChaosToolsList({installMode:x,operateId:d.id},function(f){f&&m(f)});case 2:case"end":return c.stop()}},O)}))()},[W]);function re(O){return K.apply(this,arguments)}function K(){return K=(0,g.default)(regeneratorRuntime.mark(function O(p){return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.t0=p,!f.t0){f.next=4;break}return f.next=4,e.agentTools.uninstallChaosTools({operateId:Z,installMode:x,name:p&&p.name,version:p&&p.latest},function(F){F&&r.default.success("\u64CD\u4F5C\u6210\u529F\uFF01"),F&&Q(!W)});case 4:case"end":return f.stop()}},O)})),K.apply(this,arguments)}function se(){return L.apply(this,arguments)}function L(){return L=(0,g.default)(regeneratorRuntime.mark(function O(){return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:X(!0),w&&e.agentTools.installChaosTools({operateId:Z,installMode:x,toolsNamespace:"chaosblade",name:w&&w.name,version:w&&w.latest},function(f){f&&(r.default.success("\u64CD\u4F5C\u6210\u529F\uFF01"),Q(!W)),X(!1)});case 2:case"end":return c.stop()}},O)})),L.apply(this,arguments)}var fe=function(p,c,f){var F=f.installed,ie=f.unInstalled;if(f&&ne(f),F)return ie?s.default.createElement(S.default,{text:!0,type:"primary",onClick:function(){return re(f)}},"\u5378\u8F7D"):s.default.createElement("span",null," \u5DF2\u5B89\u88C5 ",s.default.createElement(o.default,{type:"success",size:"small"})," ");if(!F)return s.default.createElement(S.default,{text:!0,type:"primary",loading:ue,onClick:function(){return se()}},"\u5B89\u88C5")};return s.default.createElement("div",null,s.default.createElement(n.default,{hasBorder:!1,dataSource:R},s.default.createElement(n.default.Column,{title:"\u5DE5\u5177\u540D\u79F0",dataIndex:"name"}),s.default.createElement(n.default.Column,{title:"\u6700\u65B0\u7248\u672C",dataIndex:"latest"}),s.default.createElement(n.default.Column,{title:"\u63CF\u8FF0",dataIndex:"description",width:"60%"}),s.default.createElement(n.default.Column,{title:"\u64CD\u4F5C",cell:fe})))}})}}]);

//# sourceMappingURL=726.bundle.js.map